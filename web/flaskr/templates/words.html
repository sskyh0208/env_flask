{% extends "base.html" %}
{% block title %}
単語登録 - {{ super() }}
{% endblock %}
{% block content %}
<script>
    var bookId = {{ book.id }};
</script>
<script type="text/javascript" src="{{ url_for('static', filename='js/words/main.js') }}"></script>
<div class="word__title">
    <div>
        <h1>{{ book.name }}</h1>
        <p>{{ book.description }}</p>
    </div>
</div>
<div class="word__form">
    <form method="POST">
        {{ form.csrf_token }}
        <dl>
            <dt>
                {{ form.text() }}
            </dt>
            <dd>
                {{ form.comment() }}
            </dd>
            <dd>
                {{ form.submit() }}
            </dd>
            <dd>
                <button onclick="location.href='/delete_book/{{ book.id }}'">ブックの削除</a>
            </dd>
        </dl>
    </form>
</div>
<div class="word__table">
    <dl>
        <dt>
            <span>単語</span>
        </dt>
        <dd>
            <span>意味</span>
        </dd>
    </dl>
    {% if words %}
    {% for word in words %}
    <dl>
        <dt id="text-{{ word.id }}">
            <span>{{ word.text }}</span>
        </dt>
        <dd id="comment-{{ word.id }}">
            <span>{{ word.comment }}</span>
        </dd>
        <dd id="btn-{{ word.id }}">
            <button onclick="update('{{ word.id }}')">編集</button>
        </dd>
        <dd>
            <button onclick="location.href='/delete_word/{{ word.book_id }}/{{ word.id }}'">削除</button>
        </dd>
    </dl>
    {% endfor %}
    {% endif %}
</div>
{% endblock %}